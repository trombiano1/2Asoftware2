### 発展課題

J4-191150 藤田誠之

第４週の発展課題では巡回セールスマン問題を焼きなまし法で解いた。焼きなまし法では、解を少しだけ改変し、それがより良い解となっているときは採用するが、それが前より悪い解だったとしてもある程度の確率でそちらを採用するというものである。また、その確率は計算を進めていくに連れ小さくなっていく。

具体的には、確率を今回は以下の式で計算した。

<img src="/Users/masayukifujita/git/software2/week4/equation/equation.png" alt="equation" style="zoom:25%;" />

結果、ランダムな初期値の数が少なくても実際の最小解にたどり着きやすいことが分かった。以下、適当な検証用のプログラムを用いて、`tsp.c`と`advance.c`について、初期値の個数と、実際の最紹介にたどり着くおおよその確率を求めた。なお、テストには都市数20の`city20seed5.dat`を用いた。

`tsp`では以下。

| 初期解の数 | 実際の最小解にたどり着くおおよその確率 |
| ---------- | -------------------------------------- |
| 10         | 0%                                     |
| 50         | 9%                                     |
| 100        | 12%                                    |
| 500        | 21%                                    |
| 1000       | 68%                                    |
| 2000       | 82%                                    |
| 3000       | 89%                                    |
| 4000       | 95%                                    |
| 5000       | 99%                                    |

95%程度の成功率となるのはaがおおよそ4000の時であった。

一方、`advance.c`では以下。

| 初期解の数 | 実際の最小解にたどり着くおおよその確率 |
| ---------- | -------------------------------------- |
| 5          | 73%                                    |
| 10         | 96%                                    |
| 15         | 99%                                    |

95%程度の成功率となるのはaがおおよそ10程度のときである。

`tsp`において初期解の数を4000として計算にかかる時間を計測すると以下になった。

```
real	0m1.760s
user	0m0.751s
sys		0m0.004s
```

一方、`advance`において初期解の数を4000として計算にかかる時間を計測すると以下になった。

```
real	0m1.276s
user	0m0.268s
sys		0m0.003s
```